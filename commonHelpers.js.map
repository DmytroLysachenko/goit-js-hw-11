{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export { fetchSearch };\n\nconst fetchSearch = imageName => {\n  const parameters = new URLSearchParams({\n    key: '43312748-d2770da7ff63c643db495a6a3',\n    q: imageName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${parameters}`, {\n    header: {\n      'Access-Control-Allow-Origin': 'https://pixabay.com',\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(obj => {\n      return obj.hits;\n    })\n    .catch(error => console.log(error));\n};\n","export { initalRender, renderGallery };\n\nconst initalRender = () => {\n  const form = document.createElement('form');\n  form.classList.add('search-form');\n  const input = document.createElement('input');\n  input.type = 'text';\n  input.classList.add('search-input');\n  input.placeholder = 'Search images...';\n  const button = document.createElement('button');\n  button.type = 'submit';\n  button.classList.add('search-button');\n  button.textContent = 'Search';\n  const list = document.createElement('ul');\n  list.classList.add('gallery-list');\n  form.append(input, button);\n  document.body.append(form, list);\n};\n\nconst renderGallery = imagesGallery => {\n  const result = imagesGallery.map(img => {\n    const item = document.createElement('li');\n    item.classList.add('gallery-item');\n\n    // console.log(item);\n\n    const link = document.createElement('a');\n    link.classList.add('gallery-link');\n    link.href = img.largeImageURL;\n\n    // console.log(link);\n\n    const image = document.createElement('img');\n    image.classList.add('gallery-image');\n    image.src = img.webformatURL;\n    image.alt = img.tags;\n    image.width = '360';\n\n    // console.log(image);\n\n    const descItems = {\n      Likes: img.likes,\n      Views: img.views,\n      Comments: img.comments,\n      Downloads: img.downloads,\n    };\n\n    // console.log(descItems);\n\n    const descList = document.createElement('ul');\n    descList.classList.add('gallery-desc-list');\n    for (let item in descItems) {\n      const descItem = document.createElement('li');\n      descItem.classList.add('gallery-desc-item');\n      //   console.log(descItem);\n      const descTtl = document.createElement('p');\n      descTtl.classList.add('gallery-desc-ttl');\n      descTtl.textContent = item;\n      //   console.log(descTtl);\n      const descText = document.createElement('p');\n      descText.classList.add('gallery-desc-text');\n      descText.textContent = descItems[item];\n      //   console.log(descText);\n      descItem.append(descTtl, descText);\n      descList.append(descItem);\n    }\n\n    // console.log(descList);\n\n    link.append(image);\n    item.append(link, descList);\n    return item;\n  });\n  return result;\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchSearch } from './js/pixabay-api';\nimport { initalRender, renderGallery } from './js/render-functions';\ninitalRender();\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst list = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', event => {\n  if (input.value.trim() === '') {\n    iziToast.show({\n      title: 'Error',\n      message: 'Invalid value',\n      backgroundColor: 'red',\n      theme: 'dark',\n      color: 'red',\n      position: 'topRight',\n    });\n  }\n  loader.classList.add('is-loading');\n  event.preventDefault();\n  list.innerHTML = '';\n  const imageName = input.value.trim();\n  input.value = '';\n  fetchSearch(imageName).then(obj => {\n    if (obj.length === 0) {\n      iziToast.show({\n        title: 'Error',\n        message: 'Unfortunately no pictures found by your request :(',\n        backgroundColor: 'red',\n        theme: 'dark',\n        color: 'red',\n        position: 'topRight',\n      });\n      loader.classList.remove('is-loading');\n      return;\n    }\n    const gallery = renderGallery(obj);\n    setTimeout(() => {\n      list.append(...gallery);\n      loader.classList.remove('is-loading');\n      const lightbox = new SimpleLightbox('.gallery-link', {\n        captionDelay: 250,\n        captionsData: 'alt',\n      });\n      lightbox.refresh();\n    }, 1000);\n  });\n});\n\nlist.addEventListener('click', event => {\n  event.preventDefault();\n});\n"],"names":["fetchSearch","imageName","parameters","response","obj","error","initalRender","form","input","button","list","renderGallery","imagesGallery","img","item","link","image","descItems","descList","descItem","descTtl","descText","loader","event","iziToast","gallery","SimpleLightbox"],"mappings":"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"}