import{i as h,S as y}from"./assets/vendor-8c59ed88.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=e(t);fetch(t.href,r)}})();const g=o=>{const s=new URLSearchParams({key:"43312748-d2770da7ff63c643db495a6a3",q:o,image_type:"photo",orientation:"horizontal",safesearch:!0});return fetch(`https://pixabay.com/api/?${s}`,{header:{"Access-Control-Allow-Origin":"https://pixabay.com"}}).then(e=>{if(!e.ok)throw new Error(e.status);return e.json()}).then(e=>e.hits).catch(e=>console.log(e))},L=()=>{const o=document.createElement("form");o.classList.add("search-form");const s=document.createElement("input");s.type="text",s.classList.add("search-input"),s.placeholder="Search images...";const e=document.createElement("button");e.type="submit",e.classList.add("search-button"),e.textContent="Search";const n=document.createElement("ul");n.classList.add("gallery-list"),o.append(s,e),document.body.append(o,n)},b=o=>o.map(e=>{const n=document.createElement("li");n.classList.add("gallery-item");const t=document.createElement("a");t.classList.add("gallery-link"),t.href=e.largeImageURL;const r=document.createElement("img");r.classList.add("gallery-image"),r.src=e.webformatURL,r.alt=e.tags,r.width="360";const a={Likes:e.likes,Views:e.views,Comments:e.comments,Downloads:e.downloads},c=document.createElement("ul");c.classList.add("gallery-desc-list");for(let f in a){const l=document.createElement("li");l.classList.add("gallery-desc-item");const i=document.createElement("p");i.classList.add("gallery-desc-ttl"),i.textContent=f;const d=document.createElement("p");d.classList.add("gallery-desc-text"),d.textContent=a[f],l.append(i,d),c.append(l)}return t.append(r),n.append(t,c),n});L();const E=document.querySelector(".search-form"),u=document.querySelector(".search-input"),p=document.querySelector(".gallery-list"),m=document.querySelector(".loader");E.addEventListener("submit",o=>{u.value.trim()===""&&h.show({title:"Error",message:"Invalid value",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"}),m.classList.add("is-loading"),o.preventDefault(),p.innerHTML="";const s=u.value.trim();u.value="",g(s).then(e=>{if(e.length===0){h.show({title:"Error",message:"Unfortunately no pictures found by your request :(",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"}),m.classList.remove("is-loading");return}const n=b(e);setTimeout(()=>{p.append(...n),m.classList.remove("is-loading"),new y(".gallery-link",{captionDelay:250,captionsData:"alt"}).refresh()},1e3)})});p.addEventListener("click",o=>{o.preventDefault()});
//# sourceMappingURL=commonHelpers.js.map
