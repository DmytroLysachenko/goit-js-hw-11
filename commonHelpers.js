import{i as y,S as g}from"./assets/vendor-8c59ed88.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();const L=r=>{const o=new URLSearchParams({key:"43312748-d2770da7ff63c643db495a6a3",q:r,image_type:"photo",orientation:"horizontal",safesearch:!0});return fetch(`https://pixabay.com/api/?${o}`,{header:{"Access-Control-Allow-Origin":"https://pixabay.com"}}).then(e=>{if(!e.ok)throw new Error(e.status);return e.json()}).then(e=>e.hits).catch(e=>console.log(e))},b=()=>{const r=document.createElement("form");r.classList.add("search-form");const o=document.createElement("input");o.type="text",o.classList.add("search-input"),o.placeholder="Search images...";const e=document.createElement("button");e.type="submit",e.classList.add("search-button"),e.textContent="Search";const n=document.createElement("ul");n.classList.add("gallery-list"),r.append(o,e),document.body.append(r,n)},E=r=>r.map(e=>{const n=document.createElement("li");n.classList.add("gallery-item");const t=document.createElement("a");t.classList.add("gallery-link"),t.href=e.largeImageURL;const s=document.createElement("img");s.classList.add("gallery-image"),s.src=e.webformatURL,s.alt=e.tags,s.width="360";const c={Likes:e.likes,Views:e.views,Comments:e.comments,Downloads:e.downloads},l=document.createElement("ul");l.classList.add("gallery-desc-list");for(let p in c){const i=document.createElement("li");i.classList.add("gallery-desc-item");const d=document.createElement("p");d.classList.add("gallery-desc-ttl"),d.textContent=p;const u=document.createElement("p");u.classList.add("gallery-desc-text"),u.textContent=c[p],i.append(d,u),l.append(i)}return t.append(s),n.append(t,l),n});b();const h=document.querySelector(".search-form"),f=document.querySelector(".search-input"),m=document.querySelector(".gallery-list"),a=document.querySelector(".loader");console.log(h);h.addEventListener("submit",r=>{a.classList.add("is-loading"),console.log(a),r.preventDefault(),m.innerHTML="";const o=f.value;f.value="",L(o).then(e=>{if(console.log(e),e.length===0){y.show({title:"Error",message:"Unfortunately no pictures found by your request :(",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"}),a.classList.remove("is-loading");return}const n=E(e);setTimeout(()=>{m.append(...n),a.classList.remove("is-loading"),new g(".gallery-link",{captionDelay:250,captionsData:"alt"}).refresh()},1e3)})});m.addEventListener("click",r=>{r.preventDefault()});
//# sourceMappingURL=commonHelpers.js.map
